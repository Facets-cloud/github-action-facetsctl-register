"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.writeConfigWithPermissions = exports.readConfig = exports.writeConfig = void 0;
const os = require("os");
const fs_1 = require("fs");
function writeConfig(config) {
    (0, fs_1.writeFileSync)(`${os.homedir()}/.facetscfg.json`, JSON.stringify(config, null, 2));
}
exports.writeConfig = writeConfig;
function readConfig() {
    const config = (0, fs_1.readFileSync)(`${os.homedir()}/.facetscfg.json`, "utf-8");
    return JSON.parse(config);
}
exports.readConfig = readConfig;
function writeConfigWithPermissions(config) {
    const stream = (0, fs_1.createWriteStream)(`${os.homedir()}/.facetscfg.json`, {
        mode: 0o644,
    });
    const data = JSON.stringify(config, null, 2);
    stream.write(data);
    stream.end();
}
exports.writeConfigWithPermissions = writeConfigWithPermissions;
